option_settings:
  aws:elasticbeanstalk:application:environment:
    NODE_ENV: production
  aws:elasticbeanstalk:container:nodejs:
    NodeCommand: "npm start"
  aws:elasticbeanstalk:environment:
    EnvironmentType: SingleInstance  # Use single instance (no load balancer = FREE)
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.micro  # Free tier eligible
    IamInstanceProfile: aws-elasticbeanstalk-ec2-role
    SecurityGroups: default
  aws:autoscaling:asg:
    MinSize: "1"
    MaxSize: "1"  # Keep it to 1 instance for free tier
  aws:elasticbeanstalk:command:
    DeploymentPolicy: AllAtOnce  # Faster deployments for single instance
  aws:elasticbeanstalk:healthreporting:system:
    SystemType: basic  # Basic health reporting (free)
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: false  # Disable CloudWatch logs to avoid charges